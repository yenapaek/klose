(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{167:function(e,t,n){"use strict";n.d(t,"a",(function(){return ae}));var a=n(41),r=n.n(a),o=n(0),i=n.n(o),l=n(16),c=n(7),s=n.n(c),u=n(10),m=n.n(u),d=n(8),f=n.n(d),p=n(9),y=n.n(p),h=n(3),b=n.n(h),R=n(2),g=n(70),E=n(4),k=n(39),x=n(33),v=n(31),w=n.n(v),I=n(235),S=n(236);function C(e,t){var n=this,a=new FormData;a.append("userID",e),a.append("id",t),w.a.post("https://kiipgrammar.com/klose/Reminder/deleteItem.php",a).then((function(e){n.setState({reminders:e.data})})).catch((function(e){console.log("Error!",e)}))}var D=n(6),T=n.n(D),_=n(52),z=n(62),F=n(237);n(17),n(18);E.a.create({customButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:"0.45rem",paddingHorizontal:"0.8rem"},buttonText:{fontFamily:"Rubik_500Medium",fontSize:"15px",padding:"0.3rem"}});function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}var V=w.a.CancelToken.source(),q=function(e){f()(n,e);var t=B(n);function n(e){var a;return s()(this,n),(a=t.call(this,e)).fetchContacts=function(){var e=new FormData;e.append("userID","josie1"),w.a.post("https://kiipgrammar.com/klose/Dashboard/fetchContacts.php",e,{cancelToken:V.token}).then((function(e){var t="new"===a.props.type?""!==a.state.newContact?e.data[e.data.length-1].id:e.data[0].id:a.props.existingText.id;a.setState({contacts:e.data,selectedContact:t})})).catch((function(e){console.log("Error!",e)}))},a.handleTextInput=function(e,t){a.setState(T()({},t,e))},a.addNewReminder=function(){a.setState({submitted:!1});var e=new FormData;e.append("userID","josie1"),e.append("title",a.state.title),e.append("contactID",a.state.selectedContact),e.append("moreInfo",a.state.moreInfo),e.append("frequency",a.state.frequency),e.append("timezone",Intl.DateTimeFormat().resolvedOptions().timeZone),e.append("reminderTime",a.state.reminderTime),e.append("type",a.props.type),e.append("reminderID",a.props.reminderID),w.a.post("https://kiipgrammar.com/klose/Dashboard/addReminder.php",e,{cancelToken:V.token}).then((function(e){a.setState({submitted:!0})})).catch((function(e){console.log("Error!",e)}))},a.addNewContact=function(){var e=new FormData;e.append("userID","josie1"),e.append("contactName",a.state.newContact),w.a.post("https://kiipgrammar.com/klose/Dashboard/addContact.php",e).then((function(e){a.fetchContacts()})).catch((function(e){console.log("Error!",e)}))},a.state={addContact:!1,contacts:null,frequency:"Weekly",frequencyOpts:["Daily","Weekly","Monthly","Yearly"],moreInfo:"",newContact:"",newContactImg:null,reminderTime:"09:00",selectedContact:"",submitted:null,timeOpts:["06:00","09:00","12:00","15:00","18:00","21:00"],title:""},V=w.a.CancelToken.source(),a}return m()(n,[{key:"componentDidMount",value:function(){this.fetchContacts(),"edit"===this.props.type&&this.setState({frequency:this.props.existingText.frequency||"Weekly",moreInfo:this.props.existingText.more_info||"",reminderTime:this.props.existingText.reminder_time||"09:00",selectedContact:this.props.existingText.id,title:this.props.existingText.title})}},{key:"componentWillUnmount",value:function(){V&&V.cancel("AddReminder request was cancelled.")}},{key:"render",value:function(){var e=this;return i.a.createElement(R.a,null,i.a.createElement(R.a,{style:A.reminderItem},i.a.createElement(R.a,{style:{flexDirection:"column"}},i.a.createElement(R.a,{style:A.eachLabel},i.a.createElement(l.a,{style:{fontFamily:"Rubik_700Bold",fontSize:"1.3rem"}},"Title"),i.a.createElement(_.a,{onChangeText:function(t){e.handleTextInput(t,"title")},defaultValue:this.state.title,placeholder:"Reminder title",style:[A.textStyle,A.inputStyle]})),i.a.createElement(R.a,{style:A.eachLabel},i.a.createElement(l.a,{style:{fontFamily:"Rubik_700Bold",fontSize:"1.3rem"}},"Who"),i.a.createElement(z.a,{selectedValue:this.state.selectedContact,style:A.picker,onValueChange:function(t){e.handleTextInput(t,"selectedContact")},itemStyle:{fontFamily:"Rubik_400Regular",fontSize:"18px"}},null!==this.state.contacts?this.state.contacts.map((function(e,t){return i.a.createElement(z.a.Item,{label:e.contact_name,value:e.id,key:"indivContact"+t})})):null),i.a.createElement(R.a,{style:{flexDirection:"row",marginTop:"5",alignItems:"center"},onClick:function(){e.setState({addContact:!e.state.addContact})}},i.a.createElement(I.a,{name:"caretdown",size:15,color:"#db644e"}),i.a.createElement(l.a,{style:{fontFamily:"Rubik_400Regular",fontSize:"15px",color:"#db644e",padding:5}},"Add Someone New?")),this.state.addContact?i.a.createElement(R.a,{style:A.eachLabel},i.a.createElement(l.a,{style:{fontFamily:"Rubik_700Bold",fontSize:"1.1rem"}},"New Contact"),i.a.createElement(_.a,{onChangeText:function(t){e.handleTextInput(t,"newContact")},defaultValue:this.state.newContact,placeholder:"Name",style:[A.textStyle,A.inputStyle]}),i.a.createElement(R.a,{style:A.buttonRow},i.a.createElement(x.a,{onPress:this.addNewContact,style:[A.customButton,{backgroundColor:"#e4bb79"}]},i.a.createElement(S.a,{name:"plus",size:24,color:"#000"}),i.a.createElement(l.a,{style:[A.buttonText,{color:"#000"}]},"Save Contact")))):null),i.a.createElement(R.a,{style:A.eachLabel},i.a.createElement(l.a,{style:{fontFamily:"Rubik_700Bold",fontSize:"1.3rem"}},"How Often"),i.a.createElement(z.a,{selectedValue:this.state.frequency,style:A.picker,onValueChange:function(t){e.handleTextInput(t,"frequency")},itemStyle:{fontFamily:"Rubik_400Regular",fontSize:"18px"}},this.state.frequencyOpts.map((function(e,t){return i.a.createElement(z.a.Item,{label:e,value:e,key:"indivFreq"+t,style:{fontFamily:"Rubik_400Regular",fontSize:"18px"}})})))),i.a.createElement(R.a,{style:A.eachLabel},i.a.createElement(l.a,{style:{fontFamily:"Rubik_700Bold",fontSize:"1.3rem"}},"When"),i.a.createElement(z.a,{selectedValue:this.state.reminderTime,style:A.picker,onValueChange:function(t){e.handleTextInput(t,"reminderTime")},itemStyle:{fontFamily:"Rubik_400Regular",fontSize:"18px"}},this.state.timeOpts.map((function(e,t){return i.a.createElement(z.a.Item,{label:e,value:e,key:"indivTime"+t,style:{fontFamily:"Rubik_400Regular",fontSize:"18px"}})})))),i.a.createElement(R.a,{style:A.eachLabel},i.a.createElement(l.a,{style:{fontFamily:"Rubik_700Bold",fontSize:"1.3rem"}},"Note"),i.a.createElement(_.a,{onChangeText:function(t){e.handleTextInput(t,"moreInfo")},defaultValue:this.state.moreInfo,placeholder:"Add a note",style:[A.textStyle,A.inputStyle],multiline:!0,numberOfLines:3})))),i.a.createElement(R.a,{style:A.buttonRow},i.a.createElement(x.a,{onPress:this.addNewReminder,style:[A.customButton,{backgroundColor:"#e4bb79"}]},"new"===this.props.type?i.a.createElement(i.a.Fragment,null,i.a.createElement(S.a,{name:"plus",size:24,color:"#000"}),i.a.createElement(l.a,{style:[A.buttonText,{color:"#000"}]},"Add Reminder")):i.a.createElement(i.a.Fragment,null,i.a.createElement(S.a,{name:"save",size:24,color:"#000"}),i.a.createElement(l.a,{style:[A.buttonText,{color:"#000"}]},"Save Changes")))),i.a.createElement(R.a,{style:A.rightSideRow},i.a.createElement(x.a,{onPress:this.props.returnDash,style:[A.customButton,{backgroundColor:"#db644e"}]},i.a.createElement(F.a,{name:"times",size:24,color:"#fff"}),i.a.createElement(l.a,{style:[A.buttonText,{color:"#fff"}]},"Cancel"))))}}]),n}(i.a.Component),A=E.a.create({reminderItem:{backgroundColor:"transparent",flexDirection:"row",margin:"1rem"},textStyle:{fontFamily:"Rubik_400Regular",marginTop:"0.4rem",fontSize:"18px"},buttonRow:{flex:1,flexDirection:"row",justifyContent:"space-evenly",marginVertical:"0.3rem"},customButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:"0.45rem",paddingHorizontal:"0.8rem"},buttonText:{fontFamily:"Rubik_500Medium",fontSize:"20px",padding:"0.3rem"},eachLabel:{width:"100%",textAlign:"left",marginVertical:"0.5rem"},picker:{marginTop:10,width:300,padding:10,backgroundColor:"#78b49b",color:"#fff",borderRadius:"0.25rem",borderWidth:0,fontFamily:"Rubik_400Regular",fontSize:"18px"},rightSideRow:{padding:"1rem",flex:1,alignItems:"flex-end"},inputStyle:{border:"1px solid #b3cbcb",borderRadius:"0.25rem",paddingHorizontal:"0.3rem",paddingVertical:"0.2rem"}});function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}var P=w.a.CancelToken.source(),j=function(e){f()(n,e);var t=L(n);function n(e){var a;return s()(this,n),(a=t.call(this,e)).fetchReminder=function(e){var t=new FormData;t.append("userID","josie1"),t.append("id",e),w.a.post("https://kiipgrammar.com/klose/Reminder/fetchIndivReminder.php",t,{cancelToken:P.token}).then((function(e){a.setState({reminder:e.data})})).catch((function(e){console.log("Error!",e)}))},a.deleteReminder=function(){C("josie1",a.props.selectedItemID),a.props.returnDash()},a.state={editing:!1,reminder:{title:"",contact_name:"",contact_img:"",more_info:"",frequency:"",reminder_time:"",next_reminder:""}},P=w.a.CancelToken.source(),a}return m()(n,[{key:"componentDidMount",value:function(){this.fetchReminder(this.props.selectedItemID)}},{key:"componentWillUnmount",value:function(){P&&P.cancel("Reminder Item request was cancelled.")}},{key:"render",value:function(){var e=this;return this.state.editing?i.a.createElement(R.a,null,i.a.createElement(l.a,{style:O.editTitle},"Editing"),i.a.createElement(q,{returnDash:this.props.returnDash,type:"edit",existingText:this.state.reminder,reminderID:this.props.selectedItemID})):i.a.createElement(R.a,null,i.a.createElement(R.a,{style:O.reminderItem},i.a.createElement(k.a,{source:{uri:this.state.reminder.contact_img},style:{width:100,height:100,borderRadius:"0.45rem",marginRight:"1rem"}}),i.a.createElement(R.a,{style:{flexDirection:"column"}},i.a.createElement(l.a,{style:{fontFamily:"Rubik_700Bold",fontSize:"1.3rem"}},this.state.reminder.title),i.a.createElement(l.a,{style:O.textStyle},"Who: ",this.state.reminder.contact_name),i.a.createElement(l.a,{style:O.textStyle},"When: ",this.state.reminder.next_reminder.substring(0,10)),i.a.createElement(l.a,{style:O.textStyle},"How Often: ",this.state.reminder.frequency))),i.a.createElement(R.a,{style:O.reminderItem},i.a.createElement(R.a,{style:{flexDirection:"column"}},i.a.createElement(l.a,{style:{fontFamily:"Rubik_700Bold",fontSize:"1.3rem"}},"Notes"),i.a.createElement(l.a,{style:O.textStyle},this.state.reminder.more_info))),i.a.createElement(R.a,{style:O.buttonRow},i.a.createElement(x.a,{onPress:function(){e.setState({editing:!0})},style:[O.customButton,{backgroundColor:"#e4bb79"}]},i.a.createElement(S.a,{name:"edit",size:24,color:"#000"}),i.a.createElement(l.a,{style:[O.buttonText,{color:"#000"}]},"Edit")),i.a.createElement(x.a,{onPress:this.deleteReminder,style:[O.customButton,{backgroundColor:"#db644e"}]},i.a.createElement(I.a,{name:"delete",size:24,color:"#fff"}),i.a.createElement(l.a,{style:[O.buttonText,{color:"#fff"}]},"Delete"))))}}]),n}(i.a.Component),O=E.a.create({reminderItem:{backgroundColor:"transparent",flexDirection:"row",margin:"1rem"},textStyle:{fontFamily:"Rubik_400Regular",marginTop:"0.4rem",fontSize:"18px"},buttonRow:{flex:1,flexDirection:"row",justifyContent:"space-evenly"},customButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:"0.45rem",paddingHorizontal:"0.8rem"},buttonText:{fontFamily:"Rubik_500Medium",fontSize:"20px",padding:"0.3rem"},editTitle:{color:"#78b49b",fontFamily:"Rubik_700Bold",fontSize:"1.5rem",textAlign:"center",marginTop:"0.3rem"}}),N=n(38),W=n(14),M=n(35),H=n(86);function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}var J=W.a.createAnimatedComponent(I.a),Y=function(e){f()(n,e);var t=U(n);function n(){var e;s()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderRightActions=function(t,n){n.interpolate({inputRange:[-80,0],outputRange:[1,0],extrapolate:"clamp"});return i.a.createElement(H.b,{style:Z.rightAction,onPress:e.closeSwipe},i.a.createElement(R.a,{accessible:!0,accessibilityRole:"button"},i.a.createElement(l.a,{style:{color:"#db644e",fontFamily:"Rubik_500Medium",fontSize:"20px"}},"Delete")),i.a.createElement(J,{name:"delete",size:30,color:"#db644e",style:[Z.actionIcon]}))},e.updateRef=function(t){e._swipeableRow=t},e.closeSwipe=function(){e._swipeableRow.close(),e.props.deleteSwipe(e.props.reminderID)},e}return m()(n,[{key:"render",value:function(){var e=this.props.children;return i.a.createElement(H.c,{ref:this.updateRef,friction:2,rightThreshold:41,renderRightActions:this.renderRightActions,containerStyle:Z.swipeable},e)}}]),n}(o.Component),Z=E.a.create({actionIcon:{width:30,marginHorizontal:10},rightAction:{alignItems:"center",flexDirection:M.a.isRTL?"row-reverse":"row",flex:1,justifyContent:"flex-end"},swipeable:{flex:1,backgroundColor:"#fff",width:"90%",padding:"1rem",marginVertical:"1rem",marginHorizontal:"1rem",borderRadius:"0.45rem"}});function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}var K=w.a.CancelToken.source(),Q=function(e){f()(n,e);var t=G(n);function n(e){var a;return s()(this,n),(a=t.call(this,e)).fetchReminders=function(){var e=new FormData;e.append("userID","josie1"),w.a.post("https://kiipgrammar.com/klose/Dashboard/fetchReminders.php",e,{cancelToken:K.token}).then((function(e){a.setState({reminders:e.data})})).catch((function(e){console.log("Error!",e)}))},a.deleteItem=function(e){var t=a.state.reminders.filter((function(t){return t.id!==e}));a.setState({reminders:t}),C("josie1",e)},a.state={reminders:null,swiping:!1},K=w.a.CancelToken.source(),a}return m()(n,[{key:"componentDidMount",value:function(){this.fetchReminders()}},{key:"componentWillUnmount",value:function(){K&&K.cancel("Reminder List request was cancelled.")}},{key:"render",value:function(){var e=this;return i.a.createElement(R.a,{style:X.reminderList},i.a.createElement(N.a,{scrollEnabled:!this.state.swiping},null===this.state.reminders?null:this.state.reminders.map((function(t,n){var a=t.next_reminder.substring(0,10);return i.a.createElement(Y,{key:"eachReminder"+n,deleteSwipe:function(t){e.deleteItem(t)},reminderID:t.id},i.a.createElement(x.a,{onPress:function(){e.props.selectedItem(t.id)},style:X.reminderItem},i.a.createElement(k.a,{source:{uri:t.contact_img},style:{width:75,height:75,borderRadius:"0.45rem",marginRight:"1rem"}}),i.a.createElement(R.a,{style:{flexDirection:"column"}},i.a.createElement(l.a,{style:{fontFamily:"Rubik_700Bold",fontSize:"1.3rem"}},t.title),i.a.createElement(l.a,{style:{fontFamily:"Rubik_400Regular"}},t.contact_name),i.a.createElement(l.a,{style:{fontFamily:"Rubik_400Regular"}},"Next Reminder: ",a))))}))))}}]),n}(i.a.Component),X=E.a.create({reminderList:{backgroundColor:"#e9e1d7"},reminderItem:{backgroundColor:"transparent",flexDirection:"row"},reminderItemSelect:{border:"1px solid green"}});function $(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}var ee=function(e){f()(n,e);var t=$(n);function n(e){var a;return s()(this,n),(a=t.call(this,e)).selectedItem=function(e){a.setState({display:"detailView",selectedItemID:e})},a.state={display:!1,selectedItemID:null},a}return m()(n,[{key:"render",value:function(){var e=this;return"addView"===this.state.display?i.a.createElement(R.a,null,i.a.createElement(g.a,{title:"< New Reminder",onPress:function(){e.setState({display:!1})},accessibilityLabel:"Return to Dashboard"}),i.a.createElement(q,{returnDash:function(){e.setState({display:!1})},type:"new"})):"detailView"===this.state.display?i.a.createElement(R.a,null,i.a.createElement(g.a,{title:"< Reminder Detail",onPress:function(){e.setState({display:!1})},accessibilityLabel:"Return to Dashboard"}),i.a.createElement(j,{selectedItemID:this.state.selectedItemID,returnDash:function(){e.setState({display:!1})}})):i.a.createElement(R.a,null,i.a.createElement(g.a,{title:"+ Add Reminder",onPress:function(){e.setState({display:"addView"})},accessibilityLabel:"Add a new reminder"}),i.a.createElement(Q,{selectedItem:function(t){e.selectedItem(t)}}))}}]),n}(i.a.Component),te=(E.a.create({btn:{backgroundColor:"#78b49b",alignItems:"center"}}),ee),ne=n(88);function ae(){var e=Object(ne.d)({Rubik_400Regular:ne.a,Rubik_500Medium:ne.b,Rubik_700Bold:ne.c});return r()(e,1)[0]?i.a.createElement(H.a,null,i.a.createElement(te,null)):i.a.createElement(l.a,null," ")}},169:function(e,t,n){e.exports=n(230)}},[[169,1,2]]]);
//# sourceMappingURL=app.b3889f3e.chunk.js.map